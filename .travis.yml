# sudo: required
# language: node_js
# node_js:
#   - "0.10"

# before_install:
#   - "curl -L https://git.io/ejPSng | /bin/sh"

# env:
#   - CXX=g++-4.8
# addons:
#   apt:
#     sources:
#       - ubuntu-toolchain-r-test
#     packages:
#       - g++-4.8

sudo: false

language: node_js
node_js:
  - "0.10"

before_install:
  - "curl -L https://git.io/ejPSng | /bin/sh"

install: 
  - curl https://install.meteor.com | /bin/sh
  - npm install -g spacejam
  - npm install

before_script:
  - "export PATH=$HOME/.meteor:$PATH"

script:
  - meteor build $HOME/build.tgz

cache:
  directories:
  - node_modules

before_script:
  - "export PATH=$HOME/.meteor:$PATH"

script:
  - meteor npm install
  - meteor add practicalmeteor:mocha
  - meteor add practicalmeteor:mocha-console-runner
  - spacejam test --driver-package=practicalmeteor:mocha-console-runner

env:
  - CXX=g++-4.8
addons:
  apt:
    sources:
      - ubuntu-toolchain-r-test
    packages:
      - g++-4.8